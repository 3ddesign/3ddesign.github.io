$(function() {

    // Paste JSON: (or import?)

    var myjson = [{
            "guid": "701b29c3-b35d-4cf1-a5f6-8b12b29a5081",
            "index": 0,
            "favoriteFruit": "banana",
            "latitude": 58.161524999999997,
            "company": "INDEXIA",
            "email": "moorehensley@indexia.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2015-07-03T08:30:59 -03:00",
            "eyeColor": "blue",
            "phone": "+1 (848) 556-2344",
            "address": "268 Debevoise Street, Fidelis, North Carolina, 3606",
            "friends": [{
                "id": 0,
                "name": "Sharron Pace"
            }],
            "isActive": false,
            "about": "Velit laborum aliquip voluptate incididunt dolore qui proident velit adipisicing. Pariatur sint fugiat aute eiusmod aute aliquip dolor culpa enim quis. Ea elit ad duis cillum et aliquip. Elit aliquip enim ut quis tempor. Veniam irure minim esse proident culpa Lorem duis veniam dolor anim quis laboris id laboris. Enim minim eiusmod labore do consectetur voluptate pariatur cillum fugiat dolore magna incididunt. Qui eiusmod Lorem qui irure consequat.\r\n",
            "balance": "$2,811.93",
            "name": "Moore Hensley",
            "skills": [
                "ea",
                "ipsum",
                "Lorem"
            ],
            "gender": "male",
            "age": 37,
            "greeting": "Hello, Moore Hensley! You have 5 unread messages.",
            "longitude": -10.931599,
            "_id": "56bdc339702f16daa316d2eb"
        },
        {
            "guid": "7a3cbd18-57a1-4534-8e12-1caad921bda1",
            "index": 1,
            "favoriteFruit": "banana",
            "latitude": 14.810798999999999,
            "company": "TUBESYS",
            "email": "sharlenebush@tubesys.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2014-03-22T11:03:44 -02:00",
            "eyeColor": "blue",
            "phone": "+1 (855) 582-2464",
            "address": "848 Hicks Street, Chestnut, Palau, 5667",
            "friends": [{
                    "id": 0,
                    "name": "Briana Decker"
                },
                {
                    "id": 1,
                    "name": "Sharron Pace"
                }
            ],
            "isActive": true,
            "about": "Consectetur velit officia eiusmod esse labore sint anim nostrud elit nulla dolore dolor. In aute ad incididunt pariatur cupidatat do deserunt irure. Exercitation cillum enim incididunt amet Lorem ut Lorem nulla.\r\n",
            "balance": "$3,821.77",
            "name": "Sharlene Bush",
            "skills": [
                "tempor",
                "mollit",
                "velit",
                "commodo",
                "veniam",
                "cupidatat",
                "laborum"
            ],
            "gender": "female",
            "age": 34,
            "greeting": "Hello, Sharlene Bush! You have 2 unread messages.",
            "longitude": 65.625151000000002,
            "_id": "56bdc33986e3357811d1a81e"
        },
        {
            "guid": "88beb2f3-e4c2-49f3-a0a0-ecf957a95af3",
            "index": 2,
            "favoriteFruit": "apple",
            "latitude": 73.588680999999994,
            "company": "XINWARE",
            "email": "rossvazquez@xinware.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2014-06-14T03:11:08 -03:00",
            "eyeColor": "green",
            "phone": "+1 (814) 593-3825",
            "address": "680 Pooles Lane, Sattley, Maine, 3025",
            "friends": [{
                    "id": 0,
                    "name": "Marilyn Mcintosh"
                },
                {
                    "id": 1,
                    "name": "Padilla Garrison"
                },
                {
                    "id": 2,
                    "name": "Naomi Buckner"
                }
            ],
            "isActive": false,
            "about": "Ut dolor nostrud enim ullamco sit reprehenderit nisi commodo eiusmod amet esse ea. Lorem amet duis in culpa do laboris deserunt esse culpa irure est. Lorem tempor officia amet amet magna ea pariatur. Occaecat qui minim commodo quis excepteur eiusmod in minim deserunt occaecat dolor. Ipsum dolore elit pariatur exercitation anim.\r\n",
            "balance": "$3,793.59",
            "name": "Ross Vazquez",
            "skills": [
                "nulla",
                "anim",
                "proident",
                "ipsum",
                "ad",
                "consectetur",
                "elit"
            ],
            "gender": "male",
            "age": 24,
            "greeting": "Hello, Ross Vazquez! You have 9 unread messages.",
            "longitude": 139.45094800000001,
            "_id": "56bdc3397558ab111683cfd6"
        },
        {
            "guid": "249b6175-5c30-44c6-b154-f120923736f5",
            "index": 3,
            "favoriteFruit": "banana",
            "latitude": -76.562336000000002,
            "company": "OMATOM",
            "email": "elmahead@omatom.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2014-01-15T06:51:52 -02:00",
            "eyeColor": "green",
            "phone": "+1 (909) 547-2687",
            "address": "956 Roebling Street, Fairforest, Virgin Islands, 2586",
            "friends": [{
                    "id": 0,
                    "name": "Goldie Gentry"
                },
                {
                    "id": 1,
                    "name": "Aisha Tran"
                }
            ],
            "isActive": true,
            "about": "Anim mollit tempor ullamco adipisicing ipsum labore incididunt occaecat aliquip sint et enim. Ad nulla labore commodo proident aute. Nisi elit aute labore magna fugiat aliqua. Voluptate cupidatat duis est laboris. Quis ut amet nulla sit esse commodo commodo fugiat dolor tempor enim velit. In pariatur ex labore ea tempor proident proident. Sint excepteur excepteur dolor tempor nostrud nisi proident cupidatat excepteur laborum incididunt culpa aliqua.\r\n",
            "balance": "$2,278.75",
            "name": "Elma Head",
            "skills": [
                "adipisicing",
                "irure",
                "sit",
                "quis",
                "velit"
            ],
            "gender": "female",
            "age": 21,
            "greeting": "Hello, Elma Head! You have 8 unread messages.",
            "longitude": -131.352147,
            "_id": "56bdc3395273667c0f89b902"
        },
        {
            "guid": "334f8cb3-eb04-45e6-abf4-4935dd439b70",
            "index": 4,
            "favoriteFruit": "banana",
            "latitude": 19.039227,
            "company": "NURALI",
            "email": "careybarr@nurali.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2015-04-03T01:25:56 -03:00",
            "eyeColor": "blue",
            "phone": "+1 (956) 512-2693",
            "address": "500 Harbor Court, Wilmington, District Of Columbia, 4946",
            "friends": [{
                    "id": 0,
                    "name": "Jordan Sampson"
                },
                {
                    "id": 1,
                    "name": "Eddie Strong"
                }
            ],
            "isActive": true,
            "about": "Deserunt anim esse duis labore enim ex ullamco. Commodo enim fugiat dolore qui aliquip. Est voluptate sit fugiat est. Duis eu exercitation amet cillum esse aliquip quis culpa mollit commodo anim.\r\n",
            "balance": "$3,951.17",
            "name": "Carey Barr",
            "skills": [
                "ex",
                "culpa",
                "nostrud",
                "et"
            ],
            "gender": "male",
            "age": 27,
            "greeting": "Hello, Carey Barr! You have 4 unread messages.",
            "longitude": -100.85060199999999,
            "_id": "56bdc3398f16bb4615b26c69"
        },
        {
            "guid": "150b00fb-dd82-427d-9faf-2879ea87c695",
            "index": 5,
            "favoriteFruit": "apple",
            "latitude": -33.762830999999998,
            "company": "FURNIGEER",
            "email": "blackburndotson@furnigeer.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2014-12-19T02:55:31 -02:00",
            "eyeColor": "brown",
            "phone": "+1 (876) 411-2433",
            "address": "219 Bijou Avenue, Finzel, Wisconsin, 9092",
            "friends": [{
                    "id": 0,
                    "name": "Jacklyn Lucas"
                },
                {
                    "id": 1,
                    "name": "Linda Chapman"
                }
            ],
            "isActive": false,
            "about": "Qui consequat exercitation incididunt elit non est est ea amet. Ad veniam eiusmod nostrud esse occaecat nulla dolor velit deserunt. Aliquip ex minim amet id id ullamco fugiat. Non exercitation duis fugiat consectetur amet cupidatat veniam id sint enim Lorem amet sit aute. Voluptate minim dolor exercitation id incididunt ullamco proident sit. Velit ut id eu dolore laboris consectetur aute consequat tempor. Sunt aliquip proident officia magna veniam voluptate.\r\n",
            "balance": "$1,498.77",
            "name": "Blackburn Dotson",
            "skills": [
                "non",
                "do",
                "non",
                "amet",
                "ipsum"
            ],
            "gender": "male",
            "age": 38,
            "greeting": "Hello, Blackburn Dotson! You have 6 unread messages.",
            "longitude": 32.616394999999997,
            "_id": "56bdc33939066929c893b269"
        },
        {
            "guid": "e1bf46ab-7168-491e-925e-f01e21394812",
            "index": 6,
            "favoriteFruit": "strawberry",
            "latitude": 15.419051,
            "company": "KOG",
            "email": "shereeanthony@kog.com",
            "picture": "http://placehold.it/32x32",
            "registered": "2015-02-25T01:02:55 -02:00",
            "eyeColor": "brown",
            "phone": "+1 (979) 504-2554",
            "address": "702 Highland Avenue, Caberfae, Minnesota, 5570",
            "friends": [{
                    "id": 0,
                    "name": "Goldie Gentry"
                },
                {
                    "id": 1,
                    "name": "Briana Decker"
                }
            ],
            "isActive": true,
            "about": "Cillum fugiat officia exercitation nulla quis consequat eu irure ut magna irure. Mollit laborum nulla in laboris officia sit. Nisi cupidatat velit ad deserunt commodo minim minim ullamco adipisicing qui dolore adipisicing esse.\r\n",
            "balance": "$2,764.03",
            "name": "Sheree Anthony",
            "skills": [
                "Lorem",
                "veniam",
                "excepteur",
                "culpa"
            ],
            "gender": "female",
            "age": 39,
            "greeting": "Hello, Sheree Anthony! You have 5 unread messages.",
            "longitude": 37.385548,
            "_id": "56bdc3396fdbaec5ee4ca929"
        }
    ];

    // Parse JSON:
    var string = JSON.stringify(myjson);
    var data = JSON.parse(string);


    // skills array:
    var skills = _.map(data,  "skills");
    skills = _.flatten(skills);
    skills = _.uniq(skills);

    function sortArr(a, b) {
        a = _.lowerCase(a);
        b = _.lowerCase(b);
        if (a > b)
            return 1;
        if (a < b)
            return -1;
        if (a == b)
            return 0;
    }

    console.log('Skills array:', skills.sort(sortArr));

    // // names array:
    var names = _.sortBy(data, function(o) {
        return o.friends.length;
    });
    names = _.map(names, "name");
    names = _.reverse(names);

    console.log('Names array:', names);


    // friends array:
    var friends = _.map(data,  "friends");
    friends = _.flatten(friends,  "name");
    friends = _.map(friends,  "name");
    friends = _.uniq(friends);

    function friendsArr(a, b) {
        if (a > b)
            return 1;
        if (a < b)
            return -1;
        if (a == b)
            return;
    }

    console.log('Friends array:', friends.sort(friendsArr));
});
